[gd_scene format=3 uid="uid://bxgw65gxcyvvi"]

[ext_resource type="Script" uid="uid://cg1dswyw2p1op" path="res://scenes/entities/enemies/enemy_character.gd" id="1_syafj"]
[ext_resource type="Shader" uid="uid://dl6ampid6rth6" path="res://scenes/components/stamped_animated_sprite/shaded_animated_sprite_3d.gdshader" id="2_7tysw"]
[ext_resource type="Texture2D" uid="uid://b4y7mdvpe6yn" path="res://assets/textures/enemies/nascimento/certidao_nascimento.png" id="2_c3m3a"]
[ext_resource type="Script" uid="uid://5kc8fyscu1dj" path="res://scenes/debug_worlds/gym/stampable.gd" id="2_fkf4w"]
[ext_resource type="Script" uid="uid://cqxuelwl2k4bg" path="res://scripts/attack_system/stats_component.gd" id="2_p28al"]
[ext_resource type="Texture2D" uid="uid://b1o0sn4m4002s" path="res://assets/textures/enemies/nascimento/buaa.png" id="2_yfe74"]
[ext_resource type="Texture2D" uid="uid://ch1fj0j2vc2r1" path="res://resources/burn_noise_texture.tres" id="3_p6bue"]
[ext_resource type="Script" uid="uid://baffaklkbk27f" path="res://scripts/attack_system/hitbox_component.gd" id="3_yfe74"]
[ext_resource type="PackedScene" uid="uid://toum1olkwjmg" path="res://scenes/components/stamped_animated_sprite/shaded_animated_sprite_3d.tscn" id="4_jn51p"]
[ext_resource type="Texture2D" uid="uid://o34vnik8cwo4" path="res://assets/textures/paper/Paper003_1K-JPG_NormalGL.jpg" id="5_5or5a"]
[ext_resource type="Texture2D" uid="uid://dkbujjnpxwia0" path="res://assets/textures/paper/Paper003_1K-JPG_Roughness.jpg" id="6_o47xr"]
[ext_resource type="Script" uid="uid://bb0t2ovl7wifo" path="res://addons/beehave/nodes/beehave_tree.gd" id="10_1fn1j"]
[ext_resource type="Texture2D" uid="uid://bvav1abqdnltd" path="res://assets/tmp/carimbo.png" id="10_g2kvs"]
[ext_resource type="Script" uid="uid://cg016dbe7gs1x" path="res://addons/beehave/nodes/composites/sequence.gd" id="11_duv7f"]
[ext_resource type="Script" uid="uid://5naycquyoac2" path="res://scripts/beehave/leaf/condition/is_timer_stopped_condition.gd" id="13_1fn1j"]
[ext_resource type="Script" uid="uid://8hn4kne15ac5" path="res://addons/beehave/nodes/composites/selector.gd" id="13_lbcd4"]
[ext_resource type="Script" uid="uid://vfqqt15t76vb" path="res://scripts/beehave/leaf/action/evolve_to_action.gd" id="14_duv7f"]
[ext_resource type="PackedScene" uid="uid://xw64ux4jg7fg" path="res://scenes/entities/enemies/errige/errige.tscn" id="18_lbcd4"]

[sub_resource type="AtlasTexture" id="AtlasTexture_idvk1"]
atlas = ExtResource("2_c3m3a")
region = Rect2(256, 0, 256, 256)

[sub_resource type="ViewportTexture" id="ViewportTexture_g2kvs"]
viewport_path = NodePath("StampViewport")

[sub_resource type="ShaderMaterial" id="ShaderMaterial_idvk1"]
resource_local_to_scene = true
render_priority = 0
shader = ExtResource("2_7tysw")
shader_parameter/roughness = 1.0
shader_parameter/texture_roughness = ExtResource("6_o47xr")
shader_parameter/specular = 0.249999994412
shader_parameter/texture_normal = ExtResource("5_5or5a")
shader_parameter/normal_scale = 1.5600008340999985
shader_parameter/albedo = Color(1, 1, 1, 1)
shader_parameter/texture_albedo = SubResource("AtlasTexture_idvk1")
shader_parameter/texture_carimbo = SubResource("ViewportTexture_g2kvs")
shader_parameter/carimbo_glow_intensity = 0.0
shader_parameter/burn_texture = ExtResource("3_p6bue")
shader_parameter/burn_amount = 0.0
shader_parameter/burn_size = 0.150000007125
shader_parameter/burn_smoothness = 0.1330000063175
shader_parameter/burn_glow_color = Color(1, 0.19607843, 0, 1)
shader_parameter/burn_glow_intensity = 10.0

[sub_resource type="AtlasTexture" id="AtlasTexture_g2kvs"]
atlas = ExtResource("2_c3m3a")
region = Rect2(0, 0, 256, 256)

[sub_resource type="SpriteFrames" id="SpriteFrames_ix5r7"]
resource_local_to_scene = true
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_g2kvs")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_idvk1")
}],
"loop": true,
"name": &"default",
"speed": 5.0
}]

[sub_resource type="Curve" id="Curve_1fn1j"]
_data = [Vector2(0, 0), 0.0, 0.0, 0, 0, Vector2(0.660606, 0.6575876), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_duv7f"]
curve = SubResource("Curve_1fn1j")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_3lwnm"]
lifetime_randomness = 0.3
emission_shape = 3
emission_box_extents = Vector3(0.4, 0.05, 0.4)
angle_min = -44.99999
angle_max = 45.00001
direction = Vector3(0, 1, 0)
spread = 25.0
initial_velocity_min = 0.59999996
initial_velocity_max = 1.1
gravity = Vector3(0, 0, 0)
scale_min = 0.79999995
scale_max = 1.1
scale_curve = SubResource("CurveTexture_duv7f")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_jn51p"]
transparency = 2
alpha_scissor_threshold = 0.5
alpha_antialiasing_mode = 0
albedo_texture = ExtResource("2_yfe74")
billboard_mode = 1
billboard_keep_scale = true

[sub_resource type="PlaneMesh" id="PlaneMesh_kyicb"]
material = SubResource("StandardMaterial3D_jn51p")
orientation = 2

[sub_resource type="SphereShape3D" id="SphereShape3D_3lwnm"]
radius = 0.98883617

[sub_resource type="SphereShape3D" id="SphereShape3D_dakoy"]

[node name="CertidaoNascimento" type="CharacterBody3D" unique_id=113904686 node_paths=PackedStringArray("beehave_tree", "stampable_sprite", "stats_component")]
script = ExtResource("1_syafj")
beehave_tree = NodePath("BeehaveTree")
stampable_sprite = NodePath("ShadedAnimatedSprite3D")
stats_component = NodePath("StatsComponent")
metadata/_custom_type_script = "uid://cg1dswyw2p1op"

[node name="ShadedAnimatedSprite3D" parent="." unique_id=1952958561 instance=ExtResource("4_jn51p")]
material_override = SubResource("ShaderMaterial_idvk1")
sprite_frames = SubResource("SpriteFrames_ix5r7")
autoplay = "default"
script = ExtResource("2_fkf4w")
stamp_texture = ExtResource("10_g2kvs")

[node name="GPUParticles3D" type="GPUParticles3D" parent="." unique_id=874105604]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.6, 0)
amount = 4
process_material = SubResource("ParticleProcessMaterial_3lwnm")
draw_pass_1 = SubResource("PlaneMesh_kyicb")

[node name="Timer" type="Timer" parent="." unique_id=2072764192]
wait_time = 5.0
one_shot = true
autostart = true

[node name="StatsComponent" type="Node" parent="." unique_id=1568362791 node_paths=PackedStringArray("hitbox")]
script = ExtResource("2_p28al")
hitbox = NodePath("../HitboxComponent")
metadata/_custom_type_script = "uid://cqxuelwl2k4bg"

[node name="HitboxComponent" type="Area3D" parent="." unique_id=1522271134 node_paths=PackedStringArray("actor")]
collision_layer = 4
collision_mask = 0
script = ExtResource("3_yfe74")
actor = NodePath("..")
metadata/_custom_type_script = "uid://baffaklkbk27f"

[node name="CollisionShape3D" type="CollisionShape3D" parent="HitboxComponent" unique_id=655475096]
shape = SubResource("SphereShape3D_3lwnm")

[node name="CollisionShape3D" type="CollisionShape3D" parent="." unique_id=497100569]
shape = SubResource("SphereShape3D_dakoy")

[node name="BeehaveTree" type="Node" parent="." unique_id=1447399182 node_paths=PackedStringArray("blackboard", "actor")]
script = ExtResource("10_1fn1j")
actor_node_path = NodePath("..")
blackboard = NodePath("@Node@18817")
actor = NodePath("..")
metadata/_custom_type_script = "uid://bb0t2ovl7wifo"

[node name="SelectorComposite" type="Node" parent="BeehaveTree" unique_id=355493648]
script = ExtResource("13_lbcd4")
metadata/_custom_type_script = "uid://8hn4kne15ac5"

[node name="SequenceComposite" type="Node" parent="BeehaveTree/SelectorComposite" unique_id=906532819]
script = ExtResource("11_duv7f")
metadata/_custom_type_script = "uid://cg016dbe7gs1x"

[node name="IsTimerStoppedCondition" type="Node" parent="BeehaveTree/SelectorComposite/SequenceComposite" unique_id=1442950424 node_paths=PackedStringArray("timer")]
script = ExtResource("13_1fn1j")
timer = NodePath("../../../../Timer")
metadata/_custom_type_script = "uid://5naycquyoac2"

[node name="EvolveToAction" type="Node" parent="BeehaveTree/SelectorComposite/SequenceComposite" unique_id=1316474822]
script = ExtResource("14_duv7f")
entity_scene = ExtResource("18_lbcd4")
metadata/_custom_type_script = "uid://vfqqt15t76vb"

[connection signal="health_changed" from="StatsComponent" to="." method="_on_health_changed"]
[connection signal="damaged" from="HitboxComponent" to="ShadedAnimatedSprite3D" method="_on_hitbox_damaged"]
