[gd_scene format=3 uid="uid://5ao27c7otj7f"]

[ext_resource type="Script" uid="uid://bb0t2ovl7wifo" path="res://addons/beehave/nodes/beehave_tree.gd" id="1_aose2"]
[ext_resource type="PackedScene" uid="uid://domk3xwojp1ia" path="res://scenes/components/character/character.tscn" id="1_ru7ka"]
[ext_resource type="Script" uid="uid://2qri6rrfv8ui" path="res://addons/beehave/nodes/decorators/cooldown.gd" id="2_vup72"]
[ext_resource type="PackedScene" uid="uid://c11bmvx2h5bt3" path="res://scenes/entities/enemies/passaporte/passaporte.tscn" id="3_6ms5o"]
[ext_resource type="Script" uid="uid://wpfn0jjwq6r3" path="res://scripts/beehave/leaf/action/attack_action.gd" id="3_oiwiy"]
[ext_resource type="PackedScene" uid="uid://572ad1efklon" path="res://scenes/entities/enemies/boleto/boleto.tscn" id="4_6ms5o"]
[ext_resource type="PackedScene" uid="uid://dxyd470cqorqq" path="res://scenes/entities/enemies/comprovante/comprovante.tscn" id="5_jhkjw"]
[ext_resource type="Texture2D" uid="uid://dn1mdtvrnxb6v" path="res://assets/tmp/paper_mario.png" id="6_vup72"]
[ext_resource type="Script" uid="uid://cg016dbe7gs1x" path="res://addons/beehave/nodes/composites/sequence.gd" id="8_oiwiy"]
[ext_resource type="PackedScene" uid="uid://xw64ux4jg7fg" path="res://scenes/entities/enemies/errige/errige.tscn" id="8_ytj3i"]
[ext_resource type="Script" uid="uid://din3o6je4hf0y" path="res://scripts/beehave/leaf/action/get_enemy_action.gd" id="9_e5ff4"]
[ext_resource type="Script" uid="uid://oc2hkcrhiyfa" path="res://scripts/beehave/leaf/condition/is_in_range_condition.gd" id="10_qrft0"]
[ext_resource type="PackedScene" uid="uid://bbea24bmwk3a2" path="res://scenes/objects/attacks/coffin_spawner.tscn" id="15_kh0qg"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_ru7ka"]
sky_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)
ground_horizon_color = Color(0.66224277, 0.6717428, 0.6867428, 1)

[sub_resource type="Sky" id="Sky_5ci4w"]
sky_material = SubResource("ProceduralSkyMaterial_ru7ka")

[sub_resource type="Environment" id="Environment_e8gke"]
background_mode = 2
sky = SubResource("Sky_5ci4w")
tonemap_mode = 3
tonemap_exposure = 1.7
tonemap_white = 3.05
ssr_enabled = true
ssil_enabled = true
glow_enabled = true
glow_bloom = 0.1

[sub_resource type="NavigationMesh" id="NavigationMesh_5ci4w"]
vertices = PackedVector3Array(-38, 0.4897976, -12.5, -15.75, 0.4897976, -12.25, -15.75, 0.4897976, -13.75, -14, 0.4897976, -15.5, -12, 0.4897976, -15.5, -12, 0.4897976, -38, -15, 0.4897976, -15, -38, 0.4897976, -38, -10.25, 0.4897976, -15.5, -10.25, 0.4897976, -38, -6.5, 0.4897976, -13.75, -6.5, 0.4897976, -12, 3.25, 0.4897976, -12, 3.25, 0.4897976, -13.75, -8.25, 0.4897976, -15.5, -7.25, 0.4897976, -15, 4, 0.4897976, -15, 5, 0.4897976, -15.5, 7, 0.4897976, -15.5, 7, 0.4897976, -38, 12.5, 0.4897976, -15.5, 12.5, 0.4897976, -38, 16.25, 0.4897976, -13.75, 16.25, 0.4897976, -12.25, 38, 0.4897976, -12.5, 14.5, 0.4897976, -15.5, 15.5, 0.4897976, -15, 38, 0.4897976, -38, -38, 0.4897976, -9.25, -15.75, 0.4897976, -9.5, 16.25, 0.4897976, -9.5, 38, 0.4897976, -9.25, -8.25, 0.4897976, -6.25, -9.75, 0.4897976, -6.25, -9.5, 0.4897976, 4, 3.25, 0.4897976, -8, -6.5, 0.4897976, -8, -7, 0.4897976, -7, 1.5, 0.4897976, 4, 3.75, 0.4897976, -7.25, -11.75, 6.9897976, -11.5, -11.75, 6.9897976, -10.25, -10.5, 6.9897976, -10.25, -10.5, 6.9897976, -11.5, 7.75, 0.4897976, -11.25, 7.75, 0.4897976, -10.5, 11.5, 0.4897976, -10.5, 11.5, 0.4897976, -11.25, -12.75, 0.4897976, 4, -12.5, 0.4897976, -6.25, -14, 0.4897976, -6.25, -15.25, 0.4897976, -7, -22, 0.4897976, 4, -38, 0.4897976, 7, -23.75, 0.4897976, 7.25, -23.25, 0.4897976, 4.75, 5.25, 0.4897976, -6.25, 3, 0.4897976, 5, 3.5, 0.4897976, 5.75, 3.5, 0.4897976, 9.5, 14.5, 0.4897976, -6.25, 15.75, 0.4897976, -7, 38, 0.4897976, 9.5, -38, 0.4897976, 10.25, -23.75, 0.4897976, 10, -19.75, 1.7397976, 8, -19.75, 1.7397976, 9.25, -0.5, 1.7397976, 9.25, -0.5, 1.7397976, 8, 1.75, 0.4897976, 13.25, 0.25, 0.4897976, 13.25, 0.5, 0.4897976, 38, 3, 0.4897976, 12.5, 3.5, 0.4897976, 11.5, 38, 0.4897976, 38, -23.25, 0.4897976, 12.5, -22, 0.4897976, 13.25, -38, 0.4897976, 38, -20.75, 0.4897976, 38, -20.5, 0.4897976, 13.25)
polygons = [PackedInt32Array(2, 1, 0), PackedInt32Array(5, 4, 3), PackedInt32Array(6, 2, 0), PackedInt32Array(3, 6, 5), PackedInt32Array(5, 6, 7), PackedInt32Array(7, 6, 0), PackedInt32Array(5, 9, 4), PackedInt32Array(4, 9, 8), PackedInt32Array(13, 12, 10), PackedInt32Array(10, 12, 11), PackedInt32Array(14, 8, 9), PackedInt32Array(10, 15, 13), PackedInt32Array(13, 15, 16), PackedInt32Array(19, 18, 17), PackedInt32Array(15, 14, 16), PackedInt32Array(16, 14, 17), PackedInt32Array(17, 14, 9), PackedInt32Array(17, 9, 19), PackedInt32Array(19, 21, 18), PackedInt32Array(18, 21, 20), PackedInt32Array(24, 23, 22), PackedInt32Array(25, 20, 21), PackedInt32Array(26, 24, 22), PackedInt32Array(25, 21, 26), PackedInt32Array(26, 21, 27), PackedInt32Array(26, 27, 24), PackedInt32Array(29, 28, 1), PackedInt32Array(1, 28, 0), PackedInt32Array(23, 24, 30), PackedInt32Array(30, 24, 31), PackedInt32Array(34, 33, 32), PackedInt32Array(36, 11, 35), PackedInt32Array(35, 11, 12), PackedInt32Array(32, 37, 34), PackedInt32Array(34, 37, 38), PackedInt32Array(38, 37, 39), PackedInt32Array(35, 39, 36), PackedInt32Array(36, 39, 37), PackedInt32Array(43, 42, 40), PackedInt32Array(40, 42, 41), PackedInt32Array(47, 46, 44), PackedInt32Array(44, 46, 45), PackedInt32Array(50, 49, 48), PackedInt32Array(50, 48, 51), PackedInt32Array(51, 48, 52), PackedInt32Array(55, 54, 53), PackedInt32Array(52, 55, 51), PackedInt32Array(51, 55, 29), PackedInt32Array(29, 55, 28), PackedInt32Array(28, 55, 53), PackedInt32Array(58, 57, 56), PackedInt32Array(58, 56, 59), PackedInt32Array(59, 56, 60), PackedInt32Array(61, 30, 31), PackedInt32Array(60, 61, 59), PackedInt32Array(59, 61, 31), PackedInt32Array(59, 31, 62), PackedInt32Array(39, 56, 38), PackedInt32Array(38, 56, 57), PackedInt32Array(49, 33, 48), PackedInt32Array(48, 33, 34), PackedInt32Array(64, 63, 54), PackedInt32Array(54, 63, 53), PackedInt32Array(68, 67, 65), PackedInt32Array(65, 67, 66), PackedInt32Array(71, 70, 69), PackedInt32Array(71, 69, 72), PackedInt32Array(72, 73, 71), PackedInt32Array(71, 73, 74), PackedInt32Array(74, 73, 62), PackedInt32Array(73, 59, 62), PackedInt32Array(75, 63, 64), PackedInt32Array(75, 76, 63), PackedInt32Array(63, 76, 77), PackedInt32Array(77, 76, 78), PackedInt32Array(76, 79, 78), PackedInt32Array(79, 70, 78), PackedInt32Array(78, 70, 71)]
agent_radius = 2.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_e8gke"]
albedo_color = Color(0.33045992, 0.35803482, 0.3980654, 1)
metallic = 1.0
metallic_specular = 1.0
roughness = 0.0

[sub_resource type="BoxMesh" id="BoxMesh_6ms5o"]
material = SubResource("StandardMaterial3D_e8gke")
size = Vector3(5, 5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_5ci4w"]
size = Vector3(5, 5, 5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_6ms5o"]
albedo_color = Color(0.28111407, 0.39212236, 0.22214836, 1)
metallic = 1.0
metallic_specular = 1.0
roughness = 0.0

[sub_resource type="BoxMesh" id="BoxMesh_jhkjw"]
material = SubResource("StandardMaterial3D_6ms5o")
size = Vector3(23, 5, 5)

[sub_resource type="BoxShape3D" id="BoxShape3D_e8gke"]
size = Vector3(23, 5, 5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_r1k0u"]
albedo_color = Color(0.8552739, 0.20707956, 0.27046522, 1)
metallic = 1.0
metallic_specular = 1.0
roughness = 0.0
emission_enabled = true
emission = Color(0.40857273, 0.08586735, 0.10096919, 1)
emission_energy_multiplier = 1.9

[sub_resource type="PrismMesh" id="PrismMesh_hmnde"]
material = SubResource("StandardMaterial3D_r1k0u")
size = Vector3(20, 30, 5)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_6ms5o"]
data = PackedVector3Array(0, 15, 2.5, 10, -15, 2.5, -10, -15, 2.5, 0, 15, -2.5, -10, -15, -2.5, 10, -15, -2.5, 0, 15, 2.5, 0, 15, -2.5, 10, -15, 2.5, 0, 15, -2.5, 10, -15, -2.5, 10, -15, 2.5, 0, 15, -2.5, 0, 15, 2.5, -10, -15, -2.5, 0, 15, 2.5, -10, -15, 2.5, -10, -15, -2.5, -10, -15, 2.5, 10, -15, 2.5, -10, -15, -2.5, 10, -15, 2.5, 10, -15, -2.5, -10, -15, -2.5)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_5ci4w"]
albedo_color = Color(0.25674117, 0.0971197, 0.02766392, 1)

[sub_resource type="PlaneMesh" id="PlaneMesh_tdf5x"]
material = SubResource("StandardMaterial3D_5ci4w")
size = Vector2(80, 80)

[sub_resource type="BoxShape3D" id="BoxShape3D_ru7ka"]
size = Vector3(80, 0.001, 80)

[node name="Gym" type="Node3D" unique_id=1404610020]

[node name="WorldEnvironment" type="WorldEnvironment" parent="." unique_id=1607123390]
environment = SubResource("Environment_e8gke")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="." unique_id=1343204371]
transform = Transform3D(-0.8660254, -0.43301278, 0.25, 0, 0.49999997, 0.86602545, -0.50000006, 0.75, -0.43301266, 0, 0, 0)
shadow_enabled = true

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="." unique_id=1874442260]
navigation_mesh = SubResource("NavigationMesh_5ci4w")

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D" unique_id=601248161]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.188942, 4.142597, -10.76394)
mesh = SubResource("BoxMesh_6ms5o")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D2" unique_id=1800215301]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D2/StaticBody3D" unique_id=1517928825]
shape = SubResource("BoxShape3D_5ci4w")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="NavigationRegion3D" unique_id=1193600149]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.141084, -1.2602024, 8.511216)
mesh = SubResource("BoxMesh_jhkjw")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D3" unique_id=605246303]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D3/StaticBody3D" unique_id=868421987]
shape = SubResource("BoxShape3D_e8gke")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="NavigationRegion3D" unique_id=1202086443]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.734359, -1.2602024, -10.82722)
mesh = SubResource("PrismMesh_hmnde")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D4" unique_id=1558809792]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D4/StaticBody3D" unique_id=729363384]
shape = SubResource("ConcavePolygonShape3D_6ms5o")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D" unique_id=1120384046]
mesh = SubResource("PlaneMesh_tdf5x")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D/MeshInstance3D" unique_id=1525464261]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D/MeshInstance3D/StaticBody3D" unique_id=111452759]
shape = SubResource("BoxShape3D_ru7ka")

[node name="GPUParticlesCollisionBox3D" type="GPUParticlesCollisionBox3D" parent="NavigationRegion3D/MeshInstance3D/StaticBody3D" unique_id=930327844]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
size = Vector3(80, 1, 80)

[node name="NavigationLink3D" type="NavigationLink3D" parent="NavigationRegion3D" unique_id=744563704]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -25.299498, 0, 8.128283)
end_position = Vector3(6, 1.2, 0)

[node name="NavigationRegion3D2" type="NavigationRegion3D" parent="." unique_id=544560531]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 80.11829, 0, 0)
navigation_mesh = SubResource("NavigationMesh_5ci4w")

[node name="NavigationLink3D" type="NavigationLink3D" parent="NavigationRegion3D2" unique_id=501579601]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -43.950706, 0, 0.31985474)
end_position = Vector3(8, 0, 0)
enter_cost = 5.0

[node name="MeshInstance3D2" type="MeshInstance3D" parent="NavigationRegion3D2" unique_id=1108189645]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -11.188942, 4.142597, -10.76394)
mesh = SubResource("BoxMesh_6ms5o")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2/MeshInstance3D2" unique_id=1355847220]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/MeshInstance3D2/StaticBody3D" unique_id=1934516945]
shape = SubResource("BoxShape3D_5ci4w")

[node name="MeshInstance3D3" type="MeshInstance3D" parent="NavigationRegion3D2" unique_id=1850016931]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -10.141084, -1.2602024, 8.511216)
mesh = SubResource("BoxMesh_jhkjw")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2/MeshInstance3D3" unique_id=1375237203]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/MeshInstance3D3/StaticBody3D" unique_id=707917165]
shape = SubResource("BoxShape3D_e8gke")

[node name="MeshInstance3D4" type="MeshInstance3D" parent="NavigationRegion3D2" unique_id=513556972]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 9.734359, -1.2602024, -10.82722)
mesh = SubResource("PrismMesh_hmnde")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2/MeshInstance3D4" unique_id=256300298]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/MeshInstance3D4/StaticBody3D" unique_id=1769287901]
shape = SubResource("ConcavePolygonShape3D_6ms5o")

[node name="MeshInstance3D" type="MeshInstance3D" parent="NavigationRegion3D2" unique_id=1165754481]
mesh = SubResource("PlaneMesh_tdf5x")

[node name="StaticBody3D" type="StaticBody3D" parent="NavigationRegion3D2/MeshInstance3D" unique_id=1582230231]

[node name="CollisionShape3D" type="CollisionShape3D" parent="NavigationRegion3D2/MeshInstance3D/StaticBody3D" unique_id=1818633487]
shape = SubResource("BoxShape3D_ru7ka")

[node name="GPUParticlesCollisionBox3D" type="GPUParticlesCollisionBox3D" parent="NavigationRegion3D2/MeshInstance3D/StaticBody3D" unique_id=2076686324]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.5, 0)
size = Vector3(80, 1, 80)

[node name="Character" parent="." unique_id=855143719 instance=ExtResource("1_ru7ka")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 55.287125, 1.0288286, 30.631992)

[node name="Boleto" parent="." unique_id=1012244960 instance=ExtResource("4_6ms5o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -17.722834, -1.9073486e-06, -1.3342724)

[node name="Comprovante" parent="." unique_id=931080643 instance=ExtResource("5_jhkjw")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -32.83841, -9.536743e-07, 21.28584)

[node name="Errige" parent="." unique_id=1891326732 instance=ExtResource("8_ytj3i")]

[node name="Passaporte" parent="." unique_id=1005230644 instance=ExtResource("3_6ms5o")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 25.916569, 9.536743e-07, 25.724342)

[node name="Sprite3D" type="Sprite3D" parent="." unique_id=1449250427]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 78.95678, 7.628666, 23.851242)
pixel_size = 0.02
billboard = 1
texture = ExtResource("6_vup72")

[node name="BeehaveTree" type="Node" parent="Sprite3D" unique_id=457996425 node_paths=PackedStringArray("blackboard", "actor")]
script = ExtResource("1_aose2")
actor_node_path = NodePath("..")
blackboard = NodePath("@Node@167420")
actor = NodePath("..")
metadata/_custom_type_script = "uid://bb0t2ovl7wifo"

[node name="SequenceComposite" type="Node" parent="Sprite3D/BeehaveTree" unique_id=755525473]
script = ExtResource("8_oiwiy")
metadata/_custom_type_script = "uid://cg016dbe7gs1x"

[node name="GetEnemyAction" type="Node" parent="Sprite3D/BeehaveTree/SequenceComposite" unique_id=1319850479]
script = ExtResource("9_e5ff4")
metadata/_custom_type_script = "uid://din3o6je4hf0y"

[node name="IsInRangeCondition" type="Node" parent="Sprite3D/BeehaveTree/SequenceComposite" unique_id=181615949]
script = ExtResource("10_qrft0")
view_range = 30.0
metadata/_custom_type_script = "uid://oc2hkcrhiyfa"

[node name="CooldownDecorator" type="Node" parent="Sprite3D/BeehaveTree/SequenceComposite" unique_id=367016016]
script = ExtResource("2_vup72")
wait_time = 1.2
metadata/_custom_type_script = "uid://2qri6rrfv8ui"

[node name="SequenceComposite" type="Node" parent="Sprite3D/BeehaveTree/SequenceComposite/CooldownDecorator" unique_id=1988136655]
script = ExtResource("8_oiwiy")
metadata/_custom_type_script = "uid://cg016dbe7gs1x"

[node name="GetEnemyAction" type="Node" parent="Sprite3D/BeehaveTree/SequenceComposite/CooldownDecorator/SequenceComposite" unique_id=965888768]
script = ExtResource("9_e5ff4")
metadata/_custom_type_script = "uid://din3o6je4hf0y"

[node name="AttackAction" type="Node" parent="Sprite3D/BeehaveTree/SequenceComposite/CooldownDecorator/SequenceComposite" unique_id=1976654665]
script = ExtResource("3_oiwiy")
attack_scene = ExtResource("15_kh0qg")
spawn_at_target = true
metadata/_custom_type_script = "uid://wpfn0jjwq6r3"
